<!DOCTYPE html>
<html xmlns:xlink="http://www.w3.org/1999/xlink">
  <head>
	<title>PDF Extract Table</title>
    <style>
	  html, body { height: 100%; }
      body { padding-top: 50px; }
    </style>
	<script src="js/jquery-2.1.4.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="js/bootstrap/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="js/bootstrap/css/bootstrap-theme.min.css">
    <!-- Latest compiled and minified JavaScript -->
    <script src="js/bootstrap/js/bootstrap.js"></script>

	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/s/bs/jq-2.1.4,dt-1.10.10,af-2.1.0,b-1.1.0,b-colvis-1.1.0,b-html5-1.1.0,b-print-1.1.0,cr-1.3.0,fc-3.2.0,fh-3.1.0,kt-2.1.0,r-2.0.0,rr-1.1.0,sc-1.4.0,se-1.1.0/datatables.min.css"/>
 
	<script type="text/javascript" src="https://cdn.datatables.net/s/bs/jq-2.1.4,dt-1.10.10,af-2.1.0,b-1.1.0,b-colvis-1.1.0,b-html5-1.1.0,b-print-1.1.0,cr-1.3.0,fc-3.2.0,fh-3.1.0,kt-2.1.0,r-2.0.0,rr-1.1.0,sc-1.4.0,se-1.1.0/datatables.min.js"></script>
	<script src="js/loadpdf.js"></script>
<style>
.example {
  padding: 10px;
  border: 1px solid #ccc;
} 
#drop_zone {
  border: 2px dashed #bbb;
  -moz-border-radius: 5px;
  -webkit-border-radius: 5px;
  border-radius: 5px;
  padding: 25px;
  text-align: center;
  font: 20pt bold 'Vollkorn';
  color: #bbb;
}

</style>

  </head>
  <body>
	<h3>PDF Extract Table</h3>
	<div id="buttonDiv">
		<button id="selectbutton">Submit selected rows</button>
		<button id="revertbutton">Revert</button>
		<button id="savebutton">Save view</button>
		<div><input id="s1" type="radio" name="dataview" value="default" checked="true">Default<br>
		<input id="s2" type="radio" name="dataview" value="inverted">Inverted<br>
		</div>
		<div class="example">
		<div id="drop_zone">Drop files here</div>
		<output id="list"></output>
		</div>
	</div>
	<div id="tableDiv"></div>
	<script>
  function handleFileSelect(evt) {

    evt.stopPropagation();
    evt.preventDefault();

    var files = evt.dataTransfer.files; // FileList object.
    
    if (files.length > 1) {
		alert("You can only upload one file");
		return;
	}

    // files is a FileList of File objects. List some properties.
    var output = [];
    var file = files[0];
      var reader = new FileReader();
      reader.onloadend = function(evt) {

			      output.push('<li><strong>', escape(file.name), '</strong> (', file.type || 'n/a', ') - ',
                  file.size, ' bytes, last modified: ',
                  file.lastModifiedDate ? file.lastModifiedDate.toLocaleDateString() : 'n/a',
                  '</li>');
                  //console.log(evt.target);
                  loadpdf(evt.target.result, file.name);
      };    
      
      reader.readAsDataURL(file);
    document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';

  }

  function handleDragOver(evt) {
    evt.stopPropagation();
    evt.preventDefault();
    evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
  }

  // Setup the dnd listeners.
  var dropZone = document.getElementById('drop_zone');
  dropZone.addEventListener('dragover', handleDragOver, false);
  dropZone.addEventListener('drop', handleFileSelect, false);
</script>
  </body>
</html>
